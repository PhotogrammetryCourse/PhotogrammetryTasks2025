// Убедитесь что название PR соответствует шаблону:
// Task01 <Имя> <Фамилия> <ВУЗ>

Task01 Роман Чечеватов ИТМО

// Проверьте что обе ветки PR - task01 (отправляемая из вашего форкнутого репозитория и та в которую вы отправляете PR)

# Перечислите идеи и коротко обозначьте мысли которые у вас возникали по мере выполнения задания, в частности попробуйте ответить на вопросы:

1) Почему SIFT менее точно угадывает средний угол отклонения? изменяется ли ситуация если выкрутить параметр ORIENTATION_VOTES_PEAK_RATIO=0.999? почему?



2) Как надежно замерить во сколько раз распараллеливание через OpenMP ускоряет ваш вариант SIFT? Попробуйте сделать это на вашем компьютере, какое ускорение относительно однопоточной версии оказалось? Сколько у вашего процессора ядер и сколько потоков?

Запустить тесты и посмотреть за какое время выполняются.
Для повышения надежности измерений нужно запустить по несколько раз для включенной и отключенной параллелизации, 
а также проводить тестирование в контроллируемой среде, где другие процессы не влияют на нагрузку системы.

Я же проводил тестирование не слишком надежно:
- Параллельно: 79 сек
- Нет:         472 сек
- Ускорение:   ~6x
8 cores / 16 threads

3) Правда ли можно строить каждый слой в Gaussian пирамиде из самого первого слоя этой октавы? Или нужно обязательно делать так как предложено в статье - дополняя размытие предыдущего слоя этой октавы? Совпадают ли пирамиды визуально?

Не вижу причин почему нет. 
В исходных комментариях в коде указано что композиция гауссовских размытий - есть гауссовское размытие.
Значит можно применить математику, посчитать каким должно быть размытие из нулевого слоя - и реализовать.

И еще один признак почему правда - потому что это было в тудушке для реализации параллельного размытия.
Если бы это было невозможно, наверняка нас бы не просили это сделать, правда же?..

4) Какие ожидания от картинок в Gaussian пирамиде можно придумать? Как проверить что работает корректно? С какой другой картинкой предыдущей октавы должна визуально совпадать конкретная картинка конкретной октавы? Как их визуально сравнить, ведь они разного размера?

Ожидания:
1. Что каждый пиксель отличается от соседей в некотором радиусе не более чем на константу-параметр
2. Что у нас не получилась нулевая матрица

Проверить что работает корректно:
1. Написать проверки, но не ясно какие значения параметров выбрать.
2. Написать проверки
3. Визуально. На с чем сравнивать - idk, как я уже писал, смысла октав я не понял. Почему бы не размывать одну картинку на много слоев сразу, зачем еще октавы

5) Почему в октаве Gaussian пирамиды s+3 картинки а не s+2 например?

Потому что нам нужно +2 картинки в DoG, а там на одну меньше чем в пирамиде 

6) Какие ожидания от картинок в DoG пирамиде можно придумать?

1. Что у нас не получилась нулевая матрица

7) Почему порог контрастности должен уменьшаться при увеличении числа слоев в октаве?

Потому что степень размытия слоя зависит от числа слоев - k = pow(2.0, 1.0 / OCTAVE_NLAYERS).
Чем больше слоев, тем меньше различается степень размытия соседних слоев, тем меньше слои отличаются,
тем ниже нам нужен порог чтобы обнаружить что-то полезное.

8) Какая строка ответственна за определение сигмы (или что почти то же самое - радиуса) которая задает окрестность по которой определяется ориентация ключевой точки?

291: `int oriRadius = (int) (ORIENTATION_WINDOW_R * (1.0 + k * (layer - 1)));`

9) За какой строки вашего кода дескриптор инвариантен к повороту картинки?

404: `cv::Mat relativeShiftRotation = cv::getRotationMatrix2D(cv::Point2f(0.0f, 0.0f), -angle, 1.0);`

// Создайте PR.
// Дождитесь отработки Github Actions CI, после чего нажмите на зеленую галочку -> Details -> test_sift -> скопируйте весь лог тестирования.
// Откройте PR на редактирование (сверху справа три точки->Edit) и добавьте сюда скопированный лог тестирования внутри тега <pre> для сохранения форматирования и под спойлером для компактности и удобства:

<details><summary>Github Actions CI</summary><p>

<pre>
$ ./build/test_sift
Running main() from /home/runner/work/PhotogrammetryTasks2023/PhotogrammetryTasks2023/libs/3rdparty/libgtest/googletest/src/gtest_main.cc
[==========] Running 22 tests from 1 test suite.
[----------] Global test environment set-up.
[----------] 22 tests from SIFT
[ RUN      ] SIFT.MovedTheSameImage
[ORB_OCV] Points detected: 500 -> 500 (in 0.021269 sec)
...
[       OK ] SIFT.HerzJesu19RotateM40 (7730 ms)
[----------] 22 tests from SIFT (12918 ms total)
[----------] Global test environment tear-down
[==========] 22 tests from 1 test suite ran. (12918 ms total)
[  PASSED  ] 22 tests.
</pre>

</p></details>
